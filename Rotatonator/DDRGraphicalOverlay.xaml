<Window x:Class="Rotatonator.DDRGraphicalOverlay"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DDR Graphical Overlay"
        Width="800"
        Height="400"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        Closing="Window_Closing"
        ShowInTaskbar="False"
        ResizeMode="NoResize">
    
    <Window.Resources>
        <!-- Vibration animation for active casting -->
        <Storyboard x:Key="VibrateAnimation" RepeatBehavior="Forever">
            <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)">
                <LinearDoubleKeyFrame KeyTime="0:0:0.05" Value="-2"/>
                <LinearDoubleKeyFrame KeyTime="0:0:0.10" Value="2"/>
                <LinearDoubleKeyFrame KeyTime="0:0:0.15" Value="-2"/>
                <LinearDoubleKeyFrame KeyTime="0:0:0.20" Value="0"/>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        
        <!-- Pulse animation for rhythmic feedback -->
        <Storyboard x:Key="PulseAnimation">
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.BlurRadius)"
                           From="15" To="40" Duration="0:0:0.3"
                           AutoReverse="True"/>
            <DoubleAnimation Storyboard.TargetProperty="(UIElement.Effect).(DropShadowEffect.Opacity)"
                           From="0.8" To="1.0" Duration="0:0:0.3"
                           AutoReverse="True"/>
        </Storyboard>
        
        <!-- Neon color brushes -->
        <LinearGradientBrush x:Key="CyanGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#00FFFF" Offset="0"/>
            <GradientStop Color="#00CC88" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="MagentaGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#FF00FF" Offset="0"/>
            <GradientStop Color="#FF0088" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="YellowGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#FFFF00" Offset="0"/>
            <GradientStop Color="#FFAA00" Offset="1"/>
        </LinearGradientBrush>
        <LinearGradientBrush x:Key="GreenGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#00FF88" Offset="0"/>
            <GradientStop Color="#00FF00" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>
    
    <Border Background="#CC000000" 
            BorderBrush="#FF00FF00" 
            BorderThickness="2" 
            CornerRadius="5"
            MouseLeftButtonDown="Border_MouseLeftButtonDown">
        <Grid>
            <!-- Starfield background canvas -->
            <Canvas x:Name="StarfieldCanvas" 
                    IsHitTestVisible="False"
                    Opacity="0.7"/>
            
            <Grid x:Name="LanesContainer" Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
            </Grid>
            
            <!-- Mute toggle button in bottom right -->
            <Button x:Name="MuteButton"
                    Content="ðŸ”Š"
                    FontSize="20"
                    Width="40"
                    Height="40"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Bottom"
                    Margin="0,0,10,10"
                    Background="#88000000"
                    Foreground="White"
                    BorderBrush="#FF00FF00"
                    BorderThickness="2"
                    Click="MuteButton_Click"
                    Cursor="Hand">
                <Button.Effect>
                    <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                </Button.Effect>
            </Button>
        </Grid>
    </Border>
</Window>
